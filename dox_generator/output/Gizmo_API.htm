<html>
    <head>
        <title>Gizmo API</title>
        <!-- link rel="stylesheet" type="text/css" href="style.css" / -->
    </head>


<body style="overflow: hidden;" onload='OnLoad();' onresize='OnResize();'>


<style>
    .api_mod_block_header{
        cursor: pointer;
    }

    .branch {
    	z-index:-10;
        _background-color: #efffff;
        font-weight: bold;
        cursor: pointer;
    }

    .leaf {
        padding-left: 10px;
        border-bottom: 1px solid lightgray;
        cursor: pointer;
        z-index: 10;
    }

    .docblock {
        padding-left: 20px;
        /*border-bottom: 1px solid lightgray;*/
    }

    .docblock_header {
        font-weight: bold;
        font-size: 12pt;
        padding: 20px;
    }
    .docblock_body {
        font-size: 10pt;
        padding-left:50px;
    }


    body{
        font-family: Verdana;
    }


</style>


<script type="text/javascript">


    function leafClick( branch, node_name ){

		//alert( branch + "/" + node_name );

		var leaves = gizmo_dox_data[branch];
		
		var leaf = null;
		
		var node_error = true; //this will catch nodes with no dox data.
		//for( node in doxBranch ){
		for( x=0; x<leaves.length; x++ ){
			if( leaves[x][0] == node_name ){
				//alert( leaves[x][1] );
				leaf = leaves[x];
				node_error = false;
			}
			
		}
		
		if( node_error ){
			alert("Could not find the dox node!");
		}else{
		
			var div_header = document.getElementById("div_docBlock_Header");
			var div_content = document.getElementById("div_docBlock_Content");
			
			div_header.innerText = leaf[1];
			div_content.innerHTML = "<pre>" + leaf[2] + "</pre>";
		
		
		}
		
		return false;

    }//end leafClick( node )


	function buildSectionTree(){
		
		var tree = document.getElementById("navTree");
		
		var divBlob = "";
		
		for( key in gizmo_dox_data ){
		
			var sNewBranch = "<div id='branch_"+key+"' class='branch' onclick='expandBranch(\"" + key + "\");'>" + key + "</div>";
			divBlob += sNewBranch;
			
			divBlob += "<div id='branch_leaves_"+key+"' style='display:none' disabled_onclick='expandBranch(\"" + key + "\");'>";
			
				var leaves = gizmo_dox_data[key];
				//alert(leaves.length);
				for( x=0; x<leaves.length; x++ ){
					var sNewLeaf = "<div id='leaf_"+leaves[x][0]+"' class='leaf' onclick='leafClick(\"" + key + "\", \"" + leaves[x][0] + "\");'>" + leaves[x][0] + "</div>";
					divBlob += sNewLeaf;
				}
			
			divBlob += "</div>";
		
		}
		
		tree.innerHTML = divBlob;
				
	}


	function expandBranch( key ){
		
		var branchName_dom = "branch_leaves_" + key;
		var branch = document.getElementById( branchName_dom );
		
		//alert( branchName_dom );
		
		
		switch( branch.style.display ){
			case "":
				branch.style.display = "none";
				break;
			
			case "none":
				branch.style.display = "";
				break;
			
			default:
				branch.style.display = "";
				break;
			
		} //end: switch(branch.style.display)
		
	}


	function OnLoad(){
		buildSectionTree();
		
		syncSectionTreeHeight();
		
	}


	function OnResize(){
		syncSectionTreeHeight();
	}


	function syncSectionTreeHeight(){
		var tree = document.getElementById('navTree');
		
		var height = document.body.clientHeight;
		
		tree.style.height = (height-10) + 'px';
		//tree.style.height = (height-74) + 'px';
	}



	function doSearch(){
		var q = document.getElementById('txtQuery').value;
		
		alert(q);
		
		document.getElementById('branch_leaves_debug').style.display = '';
		document.getElementById('branch_leaves_gfx').style.display = '';

	}



</script>

<div>
	<!--
	<div id='searchBox' style='width:320px; padding: 0px; overflow: auto; height:64px; border: 1px solid black; left:0px; top:0px; position:absolute;'>
		<input type='text' id='txtQuery'/>
		<input type='button' id='btnSearch' value='Search' onclick='doSearch();'/>
	</div>
	-->
	<div id='navTree' style='width:320px; padding: 5px; overflow: auto; height:100px; border: 0px solid black; left:0px; top:0px; position:absolute; background-color:#ddddcc;'>
		<!-- The content of this div is dynamically generated by the function "buildSectionTree();" -->
	</div>
</dv>

<div style='width:100%; height:100%; background-color:#eeeedd; border: 0px solid blue; left:330px; top:0px; position:absolute;'>
	<div id='div_docBlock' class='docblock' style='display:;'>
		<div id='div_docBlock_Header' class='docblock_header'>Gizmo API Documentation v12.7.17</div>
		<div id='div_docBlock_Content' class='docblock_body'>
			<img src='Gizmo_Logo_Color_120px.png' width='120' height='58' alt='X-Aviation Logo' align='absmiddle'/>
			<img src='XAsig.png' width='249' height='90' alt='X-Aviation Logo' align='absmiddle'/>
			<img src='lua-128x128.png' width='128' height='128' alt='Lua Logo' align='absmiddle'/>
		</div>
	</div>
	
</div>


<!-- Import the JSON data we need to build the documentation GUI from. -->
<script type="text/javascript" src="api_dox.json"></script>
<script type="text/javascript" src="event_dox.json"></script>


</body>
</html>
